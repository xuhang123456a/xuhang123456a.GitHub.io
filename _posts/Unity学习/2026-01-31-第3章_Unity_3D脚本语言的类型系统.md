---
layout: post
title: 第3章_Unity_3D脚本语言的类型系统
categories: [unity,游戏开发]
date: 2026-01-31
---

# 第3章 Unity 3D脚本语言的类型系统

- [3.1 C#的类型系统]()
- [3.2 值类型和引用类型]()

# 3.1 C#的类型系统

C#要求所有类型全部从 System.Object 类派生

C#语言是静态安全类型的

向基类转换可以认为是一种安全的隐式转换

如果需要将对象转换成它的某个派生类的话，则要使用显式转换

# 3.2 值类型和引用类型

引用类型：

1. 存储引用类型对象的内存空间要从托管堆上分配
2. 没一个对象都有一些额外的成员为Mono运行时提供操作该对象的信息，因而堆上分配空间时也要考虑到这些成员的空间，同时这些成员必须被初始化
3. 对象中的其他字段的字节总是0
4. 对象的回收工作由GC处理，当为新的对象分配空间时可能会因为没有空间而触发垃圾回收

值类型与引用类型的区别：

值类型赋值时会复制其包含的值，引用类型则会复制对对象的引用，不复制对象本身

值类型的实例一般分配在线程栈上，不受GC作用的影响

值类型不能派生出其他类型，所有值类型都是隐式密封的，相对于引用类型，值类型缓解了托管堆的压力，减少了消耗巨大的GC回收次数

值类型的优势在于提升日常开发中常用的、简单的类型的性能

局部变量的值总是存储在线程栈上，实例变量的值则和实例本身一起存储在实例存储的地方。引用类型实例和

TOC.1System.Object.2..Mono..GCGCGC

